const x=function(){let c,i=[],a=null;const s={};function m(){p(),f().then(g)}function p(){document.querySelectorAll("[data-accordion]").forEach(t=>{const o=t.dataset.location,e=t.querySelector("[data-accordion-button]"),n=t.querySelector("[data-accordion-content]");s[o]={button:e,content:n},e.addEventListener("click",()=>r(o))})}function r(t){a===t?(d(t),a=null):(a&&d(a),u(t),a=t),y(a)}function u(t){const{button:o,content:e}=s[t];o.classList.add("is-active"),e.style.maxHeight=`${e.scrollHeight}px`,e.style.opacity="1"}function d(t){const{button:o,content:e}=s[t];o.classList.remove("is-active"),e.style.maxHeight="0px",e.style.opacity="0"}function f(){return new Promise((t,o)=>{if(window.mapboxgl){t();return}const e=document.createElement("script");e.src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js",e.async=!0,e.onload=t,e.onerror=o,document.head.appendChild(e)})}function g(){var n;const t=document.getElementById("map");if(t===null)return;mapboxgl.accessToken="pk.eyJ1IjoibWFyY2VsaXRvb29vIiwiYSI6ImNrMHNsdmhwdjAzcjIzZ3BldTlqdWhnaWEifQ.EWZE383Tn4xBt0E5pSXh6Q";const o=t.dataset.mapZoom,e=JSON.parse(t.dataset.mapLocations||"[]");c=new mapboxgl.Map({container:"map",style:"mapbox://styles/marcelitoooo/ck16ms7m51nlo1cmwnqrbjuyq?optimize=true",center:(n=e[0])==null?void 0:n.coordinates,zoom:o}),c.addControl(new mapboxgl.NavigationControl),b(e),l(e)}function b(t){t.forEach(o=>{const e=document.createElement("div");e.className="marker";const n=new mapboxgl.Marker(e).setLngLat(o.coordinates).addTo(c);e.addEventListener("click",()=>{r(o.slug)}),i.push({marker:n,slug:o.slug})})}function y(t){i.forEach(({marker:o,slug:e})=>{const n=o.getElement();e===t?(n.classList.add("is-active"),c.flyTo({center:o.getLngLat(),zoom:15,duration:600})):n.classList.remove("is-active")}),t||l(JSON.parse(document.getElementById("map").dataset.mapLocations||"[]"))}function l(t){if(t.length>1){const o=new mapboxgl.LngLatBounds;t.forEach(e=>o.extend(e.coordinates)),c.fitBounds(o,{padding:50})}}return{init:m}}();document.addEventListener("DOMContentLoaded",x.init);
