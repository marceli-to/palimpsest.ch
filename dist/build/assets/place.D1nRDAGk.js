import{s as x}from"./audio.quailNN0.js";const E=function(){let c,s=[],a=null;const i={};function m(){p(),g().then(b)}function p(){document.querySelectorAll("[data-accordion]").forEach(t=>{const e=t.dataset.location,o=t.querySelector("[data-accordion-button]"),n=t.querySelector("[data-accordion-content]");i[e]={button:o,content:n},o.addEventListener("click",()=>r(e))})}function r(t){x(),a===t?(l(t),a=null):(a&&l(a),u(t),a=t),y(a)}function u(t){const{button:e,content:o}=i[t];e.classList.add("is-active"),o.style.maxHeight=`${o.scrollHeight}px`,o.style.opacity="1",f(t)}function f(t){document.querySelectorAll("[data-location]").length<4||setTimeout(()=>{i[t].button.scrollIntoView({behavior:"smooth"})},300)}function l(t){const{button:e,content:o}=i[t];e.classList.remove("is-active"),o.style.maxHeight="0px",o.style.opacity="0"}function g(){return new Promise((t,e)=>{if(window.mapboxgl){t();return}const o=document.createElement("script");o.src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js",o.async=!0,o.onload=t,o.onerror=e,document.head.appendChild(o)})}function b(){var n;const t=document.getElementById("map");if(t===null)return;mapboxgl.accessToken="pk.eyJ1IjoibWFyY2VsaXRvb29vIiwiYSI6ImNrMHNsdmhwdjAzcjIzZ3BldTlqdWhnaWEifQ.EWZE383Tn4xBt0E5pSXh6Q";const e=t.dataset.mapZoom,o=JSON.parse(t.dataset.mapLocations||"[]");c=new mapboxgl.Map({container:"map",style:"mapbox://styles/marcelitoooo/cm2lv6vaf01ey01pe9kdx35a8?optimize=true",center:(n=o[0])==null?void 0:n.coordinates,zoom:e}),c.addControl(new mapboxgl.NavigationControl),h(o),d(o)}function h(t){t.forEach(e=>{const o=document.createElement("div");o.className="marker";const n=new mapboxgl.Marker(o).setLngLat(e.coordinates).addTo(c);o.addEventListener("click",()=>{r(e.slug)}),s.push({marker:n,slug:e.slug})})}function y(t){s.forEach(({marker:e,slug:o})=>{const n=e.getElement();o===t?(n.classList.add("is-active"),c.flyTo({center:e.getLngLat(),zoom:15,duration:600})):n.classList.remove("is-active")}),t||d(JSON.parse(document.getElementById("map").dataset.mapLocations||"[]"))}function d(t){if(t.length>1){const e=new mapboxgl.LngLatBounds;t.forEach(o=>e.extend(o.coordinates)),c.fitBounds(e,{padding:100})}}return{init:m}}();document.addEventListener("DOMContentLoaded",E.init);
