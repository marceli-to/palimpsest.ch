import{s as y}from"./audio.quailNN0.js";const x=function(){let c,i=[],a=null;const s={};function m(){p(),f().then(b)}function p(){document.querySelectorAll("[data-accordion]").forEach(t=>{const e=t.dataset.location,o=t.querySelector("[data-accordion-button]"),n=t.querySelector("[data-accordion-content]");s[e]={button:o,content:n},o.addEventListener("click",()=>r(e))})}function r(t){y(),a===t?(d(t),a=null):(a&&d(a),u(t),a=t,setTimeout(()=>{s[t].button.scrollIntoView({behavior:"smooth"})},250)),h(a)}function u(t){const{button:e,content:o}=s[t];e.classList.add("is-active"),o.style.maxHeight=`${o.scrollHeight}px`,o.style.opacity="1",setTimeout(()=>{s[t].button.scrollIntoView({behavior:"smooth"})},250)}function d(t){const{button:e,content:o}=s[t];e.classList.remove("is-active"),o.style.maxHeight="0px",o.style.opacity="0"}function f(){return new Promise((t,e)=>{if(window.mapboxgl){t();return}const o=document.createElement("script");o.src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js",o.async=!0,o.onload=t,o.onerror=e,document.head.appendChild(o)})}function b(){var n;const t=document.getElementById("map");if(t===null)return;mapboxgl.accessToken="pk.eyJ1IjoibWFyY2VsaXRvb29vIiwiYSI6ImNrMHNsdmhwdjAzcjIzZ3BldTlqdWhnaWEifQ.EWZE383Tn4xBt0E5pSXh6Q";const e=t.dataset.mapZoom,o=JSON.parse(t.dataset.mapLocations||"[]");c=new mapboxgl.Map({container:"map",style:"mapbox://styles/marcelitoooo/ck16ms7m51nlo1cmwnqrbjuyq?optimize=true",center:(n=o[0])==null?void 0:n.coordinates,zoom:e}),c.addControl(new mapboxgl.NavigationControl),g(o),l(o)}function g(t){t.forEach(e=>{const o=document.createElement("div");o.className="marker";const n=new mapboxgl.Marker(o).setLngLat(e.coordinates).addTo(c);o.addEventListener("click",()=>{r(e.slug)}),i.push({marker:n,slug:e.slug})})}function h(t){i.forEach(({marker:e,slug:o})=>{const n=e.getElement();o===t?(n.classList.add("is-active"),c.flyTo({center:e.getLngLat(),zoom:15,duration:600})):n.classList.remove("is-active")}),t||l(JSON.parse(document.getElementById("map").dataset.mapLocations||"[]"))}function l(t){if(t.length>1){const e=new mapboxgl.LngLatBounds;t.forEach(o=>e.extend(o.coordinates)),c.fitBounds(e,{padding:50})}}return{init:m}}();document.addEventListener("DOMContentLoaded",x.init);
