import{s as E}from"./audio.quailNN0.js";const L=function(){let c,l=[],a=null;const i={};function u(){f(),b().then(y)}function f(){document.querySelectorAll("[data-accordion]").forEach(t=>{const o=t.dataset.location,e=t.querySelector("[data-accordion-button]"),n=t.querySelector("[data-accordion-content]");i[o]={button:e,content:n},e.addEventListener("click",()=>d(o))})}function d(t){E(),a===t?(m(t),a=null):(a&&m(a),h(t),a=t),v(a)}function h(t){const{button:o,content:e}=i[t];o.classList.add("is-active"),e.style.maxHeight=`${e.scrollHeight}px`,e.style.opacity="1",g(t)}function g(t){document.querySelectorAll("[data-location]").length<4&&window.innerWidth>768||setTimeout(()=>{i[t].button.scrollIntoView({behavior:"smooth"})},300)}function m(t){const{button:o,content:e}=i[t];o.classList.remove("is-active"),e.style.maxHeight="0px",e.style.opacity="0"}function b(){return new Promise((t,o)=>{if(window.mapboxgl){t();return}const e=document.createElement("script");e.src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js",e.defer=!0,e.onload=t,e.onerror=o;const n=document.createElement("link");n.rel="preload",n.as="script",n.href=e.src,document.head.appendChild(n);const s=document.createElement("link");s.rel="preload",s.as="style",s.href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css",document.head.appendChild(s);const r=document.createElement("link");r.rel="stylesheet",r.href=s.href,document.head.appendChild(r),document.head.appendChild(e)})}function y(){var n;const t=document.getElementById("map");if(t===null)return;mapboxgl.accessToken="pk.eyJ1IjoibWFyY2VsaXRvb29vIiwiYSI6ImNtNm1hNG5vdDBmaGUya3NoZnRldnhqd3YifQ.CMI4nKvoE7I8H9Dal7IHyw";const o=t.dataset.mapZoom,e=JSON.parse(t.dataset.mapLocations||"[]");c=new mapboxgl.Map({container:"map",style:"mapbox://styles/marcelitoooo/cm2lv6vaf01ey01pe9kdx35a8?optimize=true",center:(n=e[0])==null?void 0:n.coordinates,zoom:o}),c.addControl(new mapboxgl.NavigationControl),x(e),p(e)}function x(t){t.forEach(o=>{const e=document.createElement("div");e.className="marker";const n=new mapboxgl.Marker(e).setLngLat(o.coordinates).addTo(c);e.addEventListener("click",()=>{d(o.slug)}),l.push({marker:n,slug:o.slug})})}function v(t){l.forEach(({marker:o,slug:e})=>{const n=o.getElement();e===t?(n.classList.add("is-active"),c.flyTo({center:o.getLngLat(),zoom:15,duration:600})):n.classList.remove("is-active")}),t||p(JSON.parse(document.getElementById("map").dataset.mapLocations||"[]"))}function p(t){if(t.length>1){const o=new mapboxgl.LngLatBounds;t.forEach(e=>o.extend(e.coordinates)),c.fitBounds(o,{padding:100})}}return{init:u}}();document.addEventListener("DOMContentLoaded",L.init);
